<!DOCTYPE html>
<html>
  <head>
    <!-- meta -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="icon" type="image/x-icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    // google code prettifyの有効化
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      // ページの一番上までスクロールさせます。
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MJQCJJV40N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MJQCJJV40N');
</script>
<title> rsync command-sync directories  - Linuxサーバ管理入門 - Linuxへの接続からはじめてLinuxの基本をマスター</title>
<meta name="description" content="You can synchronize directories using the rsync command. Synchronization means putting two directories in the same state.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content=" rsync command-sync directories  - Linuxサーバ管理入門 - Linuxへの接続からはじめてLinuxの基本をマスター" />
<meta name="twitter:description" content="You can synchronize directories using the rsync command. Synchronization means putting two directories in the same state." />
<meta name="twitter:image" content="https://linux.perlzemi.com/images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">Introduction to Linux Server Management</a>
  </h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    <!-- top -->

  </div>
  <div class="middle">
    <div class = "bread">
  <ul itemscope itemtype = "http://schema.org/BreadcrumbList">
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop = "name"> Linux </ span>
      </a>
      <meta itemprop = "position" content = "1" />
    </ li>
    <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <a itemprop="item" href="/blog/20200211081227.html">
        <span itemprop = "name"> Linux command </ span>
      </a>
      <meta itemprop = "position" content = "2" />
    </ li>
    <li>
      here
    </ li>
  </ ul>
</ div>
<h2><a href="/blog/20190130171737.html"> rsync command-sync directories </a></ h2>
<p>
  You can synchronize directories using the rsync command. Synchronization means putting two directories in the same state.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- æåã®æ®µè½ä¸ - ãã£ã¹ãã¬ã¤ æ¨ªé· ã¬ã¹ãã³ã·ã -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<p>
  It also includes the ability to copy directories, so the rsync command can also be used to copy directories.
</p>
<p>
  rsync will only transfer the diffs. So even in a large directory, only the changes are transferred, which is good performance.
</p>
<h3> Synchronize directories using rsync </ h3>
<p>
  First, I'll show you how to sync directories using rsync. This is surprisingly a songwriter.
</p>
<pre>
#Copy the directory. Synchronize the contents of src_dir into dist_dir
rsync -av src_dir / dist_dir
&lt;/ pre&gt;

There are many command options in rsync, but first remember only "-a" and "-v".

The "-a" option is a combination of other options that syncs nicely.

The "-v" option prints which files were synced.

This is the most important thing, but with rsync, the meaning depends on whether the directory name has a "/" after it or not.

If you don't understand this well, you'll get "that" every time you run rsync.

In rsync, a "/" at the end of the source directory means "the contents of the directory".

For the synchronization destination, simply write the directory name.

The above means syncing the contents of src_dir into dist_dir.

If the destination directory does not exist, it will be created automatically.

If there is no "/" at the end of the directory name of the synchronization source, it means to synchronize "src_dir" in "dist_dir". "Src_dir" will be created in "dist_dir".

&lt;h3&gt; Synchronize directories between local and remote &lt;/ h3&gt;

rsync supports local and remote synchronization using the SSH protocol, as well as local synchronization. This can be used for backup.

Describe how to specify the user name, host name, and port number. Other than that, it is the same as local synchronization.

&lt;pre&gt;
rsync -e "ssh -p 55555" -av / foo / src_dir / kimoto@192.168.1.1:/bar/dist_dir
&lt;/ pre&gt;

&lt;h4&gt; Username / hostname format &lt;/ h4&gt;

Write the remote host in the following format.

&lt;pre&gt;
Username @hostname: directory
&lt;/ pre&gt;

&lt;h4&gt; Specifying the port number &lt;/ h4&gt;

Specifying the port number is not an ordinary option and should be included as an option for the ssh command with the &lt;b&gt; -e &lt;/ b&gt; option.

&lt;pre&gt;
-e "ssh -p port number"
&lt;/ pre&gt;

&lt;h3&gt; I want to automate backup operations &lt;/ h3&gt;

If you want to automate the backup operation, create an SSH private key / public key pair on the backup server and use it to connect. With the key, the password is not required, so backup operations can be automated.

I will explain how to create an SSH key pair elsewhere.

  </div>
  <div class="bottom">
    <h3>Associated Information</h3>

<div style="margin:10px 0">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div style="margin-bottom:30px">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<!-- ディスプレイ縦長 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="4544919209"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div style="margin-bottom:30px;padding:0 8px;">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

        </div>
      </div>
      <div class="footer">
        <div class="perlri_link">
  <a rel="nofollow" href="https://perlclub.net/en">Perl Club</a>
</div>

      </div>
    </div>
  </body>
</html>
