<!DOCTYPE html>
<html>
  <head>
    <!-- meta -->
<!-- Google Automatic Advertising -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="icon" type="image/x-icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MJQCJJV40N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MJQCJJV40N');
</script>
<title> vi - Text editor for command line  - Linux Server Management - Connect to Linux, Master the Basic of Linux</title>
<meta name="description" content="vi is a text editor that comes with Linux by default and can be run from the command line.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content=" vi - Text editor for command line  - Linux Server Management - Connect to Linux, Master the Basic of Linux" />
<meta name="twitter:description" content="vi is a text editor that comes with Linux by default and can be run from the command line." />
<meta name="twitter:image" content="https://en.linux.perlzemi.com/images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">Linux Server Management</a>
  </h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    <!-- top -->

  </div>
  <div class="middle">
    <div class="bread">
  <ul itemscope itemtype="http://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop="name"> Linux </span>
     </a>
      <meta itemprop="position" content="1" />
    </li>
    <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
      <a itemprop="item" href="/blog/20200211081227.html">
        <span itemprop="name"> Linux command </span>
     </a>
      <meta itemprop="position" content="2" />
    </li>
    <li>
      here
    </li>
  </ul>
</div>
<h2><a href="/blog/20190401171737.html"> vi - Text editor for command line </a></h2>
<p>
  vi is a text editor that comes with Linux by default and can be run from the command line.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- æåã®æ®µè½ä¸ - ãã£ã¹ãã¬ã¤ æ¨ªé· ã¬ã¹ãã³ã·ã -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<p>
  The problem with Linux is how can I edit a document directly?
</p>
<p>
  In Linux, it is common to edit the configuration file from the command line to configure the web server and database server.
</p>
<p>
  The command line text editor vi is a bit difficult to use for first-time users.
</p>
<p>
  If you're used to a graphical GUI editor, it's probably the first challenge to getting used to Linux.
</p>
<p>
  Since you can't use a mouse, you have to do everything with the keyboard, and there's also the concept of edit mode.
</p>
<h3> Let's run vi </h3>
<p>
  First, let's run vi with an empty file.
</p>
<h4> Creating a text file </h4>
<p>
  To create a text file:
</p>
<pre>
vi TextFileName
</pre>
<p>
  If you pass the file name as an argument of vi, it will create a new one if the text does not exist. Let's create a file called foo.txt.
</p>
<pre>
vi foo.txt
</pre>
<p>
  I think vi will start up.
</p>
<h4> Exit the vi editor </h4>
<p>
  I think the problem for beginners here is that they don't know how to quit the vi editor, so let's just remember this. The procedure is as follows.
</p>
<pre>
Press Esc
</pre>
<p>
  Pressing Esc changes vi to a mode called <b> command mode </b>. vi has two modes, one for editing characters and one for executing commands. To exit the vi editor, first press <b> Esc </b> and then in command mode. Must be.
</p>
<p>
  Then type ":q".
</p>
<pre>
:q
</pre>
<p>
  Type ":q" and press Enter. Exit the vi editor. I am running a command to exit the editor called q. The colon ":" is required before the command.
</p>
<h4> Kill without saving </h4>
<p>
  Also remember the command to kill without saving your edits. In the vi editor, if there are changes to the contents of the editor, you cannot exit with the <b> q </b> command.
</p>
<p>
  Use the <b> q! </B> command to kill without saving. Press Esc to change to command mode, then type the following and press Enter.
</p>
<pre>
:q!
</pre>
<h4> Save edits </h4>
<p>
  Use the "w" command to save your edits. You can save it by pressing <b> Esc </b> to enter command mode, then typing ":w" and pressing Enter.
</p>
<pre>
:w
</pre>
<h4> Save your edits and exit </h4>
<p>
  Save another one and remember the end. Use the <b> wq </b> command. Press <b> Esc </b> to enter command mode, then type ":wq" and press Enter to save and exit.
</p>
<pre>
:wq
</pre>
<p>
  If you remember the three exit methods, you can manage to start vi by mistake.
</p>
<ul>
  <li> q - End </li>
  <li> q! - Exit without saving </li>
  <li> wq - Save and exit </li>
</ul>
<h3> Edit text with vi editor </h3>
<p>
  Let's edit the text using the vi editor. Write the minimum necessary information.
</p>
<p>
  Just like last time, let's start the vi editor first.
</p>
<pre>
vi foo.txt
</pre>
<p>
  It has started.
</p>
<h4> Edit mode </h4>
<p>
  The vi editor initially starts in command mode. vi has two modes, command mode and edit mode. Initially you are in command mode, so you need to be in edit mode.
</p>
<p>
  Press <b> i </b> to enter edit mode.
</p>
<pre>
i
</pre>
<p>
  You can enter characters in edit mode. Feel free to enter characters such as abc. After pressing i, you will find that you are free to edit.
</p>
<p>
  If you want to save your edits, use the <b> w </b> command after entering command mode. To enter command mode, I first pressed the Esc key.
</p>
<pre>
:w
</pre>
<p>
  You can save the text by typing as above and pressing Enter. To edit, press i again to switch to edit mode.
</p>
<p>
  If you want to save and exit, do the following.
</p>
<pre>
:wq
</pre>
<p>
  Now you can edit the configuration file somehow.
</p>
<h3> basic vi commands </h3>
<p>
  If you remember the minimum requirements for vi, you will be able to edit the configuration file, so it's a good idea to move on to the next chapter. Here, I would like to introduce a more convenient way to use vi.
</p>
<h4> Display line numbers </h4>
<p>
  When you start vi, you will notice that there is no line number. It's inconvenient without the line number. In such a case, do as follows.
</p>
<p>
  First press the Esc key to enter command mode. Then type the following and press Enter.
</p>
<pre>
:set number
</pre>
<p>
  The line number will appear on the left.
</p>
<h4> vi configuration file </h4>
<p>
  The line number setting is not permanent and only takes effect while you launch vi. If you want to keep the settings, use the <b> configuration file </b>. If you write it in the configuration file, it will execute the command when you start vi.
</p>
<p>
  The vi configuration file is <b> .vimrc </b> in the user's home directory. Isn't there such a file? It doesn't exist by default, so you need to create it.
</p>
<pre>
vi ~/.vimrc
</pre>
<p>
  Let's write the command in this file.
</p>
<pre>
set number
</pre>
<p>
  The leading colon is not needed.
</p>
<p>
  You can move to your home directory by typing <b> cd ~ </b>. Tilde is a special character that means the user's home directory.
</p>
<p>
  Let's use vi to create a <b> .vimrc </b>. Then press <b> i </b> and when you're in edit mode, type:
</p>
<pre>
set number
</pre>
<p>
  When writing to a vi configuration file, the colon is not at the beginning. Write without a colon. Then press Esc to enter command mode, type <b>:wq </b> to save and exit. Then the file is created.
</p>
<p>
  On Linux, files starting with <b>. </B> are hidden files. Configuration files are often hidden files. The regular <b> ls </b> command doesn't list it in the file, but you can use the <b> a </b> option to see it, including hidden files.
</p>
<pre>
ls -a
</pre>
<p>
  Now you can see that you have a file called .vimrc. Let's open a text file with vi. You can see that the line numbers are displayed from the beginning.
</p>
<h4> I want to enter a blank in the tab </h4>
<p>
  Many programmers want to type blank with the tab key instead of the tab.
</p>
<pre>
:set expandtab
</pre>
<h4> I want to set the tab width </h4>
<p>
  If you are a programmer, you also want to set the tab width.
</p>
<pre>
:set tabstop=2
</pre>
<h4> I want to indent when a line breaks </h4>
<p>
  If you are a programmer, you want to indent instead of returning to the beginning when you start a new line.
</p>
<pre>
:set autoindent
</pre>
<h4> The configuration file is large, so I want to move it to the end of the file </h4>
<p>
  If you want to move to the end, type <b> G </b> in command mode.
</p>
<pre>
:G
</pre>
<h4> I want to move to my favorite line number </h4>
<p>
  If you want to move to your favorite line number, use <b> number G </b>.
</p>
<pre>
:1G
:25G
</pre>
<p>
  If it is 1G, you can move to the 1st line, and if it is 25G, you can move to the 25th line.
</p>
<p>
  You can move by just typing the line number in command mode with the Esc key.
</p>
<pre>
:3
</pre>
<h4> I want to search for a character string </h4>
<p>
  If you want to search, first type <b> / </b> in command mode. Hit the slash. Then it will be as follows.
</p>
<pre>
/
</pre>
<p>
  Then type in the characters you want to search for here.
</p>
<pre>
/foo
</pre>
<p>
  Then press Enter. You can now search. Press <b> n </b> to move to the next matched position. Press <b> N </b> to return. You can now search.
</p>
<ul>
  <li> n - Forward </li>
  <li> N - Back </li>
</pre>
<h4> I want to copy </h4>
<p>
  You can copy by left-clicking and selecting a range.
</p>
<h4> I want to paste </h4>
<p>
  You can paste with the right click. This may have different settings depending on the environment.
</p>
<h4> I want to delete a lot of ranges </h4>
<p>
  You can also delete it with delete or backspace, but sometimes you want to delete a lot of ranges at once. To delete one line, type the following in command mode.
</p>
<pre>
dd
</pre>
<p>
  If you want to delete multiple lines, just before this, describe the number of lines you want to delete.
</p>
<pre>
5dd
</pre>
<h4> Move up / down / left / right </h4>
<p>
  You can also use the arrow keys to move up / down / left / right, but you can also use the Esc key to switch to command mode and then use the next key to move up / down / left / right.I can do it.
</p>
<ul>
   <li> k - above </li>
   <li> h - left </li>
   <li> j - below </li>
   <li> k - above </li>
</ul>
<h4> Advance one character to edit mode </h4>
<p>
  You can use "i" to enter edit mode, but you can use "a" to advance one character to edit mode.
</p>
<h4> Move to the end </h4>
<p>
  You can move to the end of the line with "$" in command mode.
</p>
<h4> Undo </h4>
<p>
  You can undo your work by running "u" in command mode.
</p>
<h4> I want to run Perl </h4>
<p>
  In command mode, you can execute any Linux command by prefixing it with "!". When running Perl, do the following:
</p>
<pre>
!perl ScriptName
</pre>
<p>
  If you remember this much, you will find it much easier to edit the configuration file.
</p>

  </div>
  <div class="bottom">
    <h3>Associated Information</h3>

<div style="margin:10px 0">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          
        </div>
      </div>
      <div class="footer">
        <div style="font-size:16px;padding:30px 0;background:#fcfcfc;">
  This site is originally Japanese.<br>
  Perl Club starts to translate it to English.<br>
  If you find wrong expressions, you can report them using <a rel="nofollow" href="https://github.com/yuki-kimoto/en_linux/issues">Github Issue</a>. 
</div>
<div class="perlri_link">
  <div>
    <a rel="nofollow" href="https://perlclub.net/en">Perl Club</a>
  </div>
</div>

      </div>
    </div>
  </body>
</html>
