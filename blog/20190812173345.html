<!DOCTYPE html>
<html>
  <head>
    <!-- meta -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<title>bash - PerlゼミのLinux入門</title>
<meta name="description" content="bashに関する情報はこちらに記載します。">
  </head>
  <body>
    <div class="container">
      <div class="header">
        <!-- header -->
<h1>
  <a href="/">PerlゼミのLinux入門</a>
</h1>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    <!-- top -->

  </div>
  <div class="middle">
    <h2><a href="/blog/20190812173345.html">bash</a></h2>
<p>
  　<strong>bash</strong>に関する情報はこちらに記載します。
</p>
<p>
  ##bashの設定ファイル
</p>
<p>
  　bashの設定ファイルはホームディレクトリの.bashrcと.bash_profileです。viコマンドで設定ファイルを編集することができます。
</p>
<p>
  ```bash:
</p>
<p>
  # .bashrcを編集する場合
</p>
<p>
  vi ~/.bashrc
</p>
<p>
  # .bash_profileを編集する場合
</p>
<p>
  vi ~/.bash_profile
</p>
<p>
  ```
</p>
<p>
  　.bashrcと.bash_profileの違いは.bashrcがbashを起動したときに読み込まれるのに対して、.bash_profileはログイン時に読み込まれることです。
</p>
<p>
  　.bashrcでは環境変数の設定などが行われることが多いようです。bashをカスタマイズしたい場合(エイリアスなどを記述など)は.bashrcに記述することが多いようです。
</p>
<p>
  ###bashの設定ファイルの記述
</p>
<p>
  　bashの設定ファイルにはあらかじめ実行しておきたいコマンドを記述しておくだけです。たとえば.bashrcに次のような記述を追加しておくとbashが起動されるたびにそのコマンドが実行されます。
</p>
<p>
  ```bash:
</p>
<p>
  alias ls="ls -l"
</p>
<p>
  ```
</p>
<p>
  ###設定ファイルの読込
</p>
<p>
  　設定ファイルは次回bashを起動したときに読み込まれますがすぐに設定を反映したい場合はsourceコマンドを使用します。
</p>
<p>
  ```bash:
</p>
<p>
  # .bashrcを書き換えた場合
</p>
<p>
  source .bashrc
</p>
<p>
  # .bash_profileを書き換えた場合
</p>
<p>
  source .bash_profile
</p>
<p>
  ```
</p>
<p>
  ##エイリアス
</p>
<p>
  　bashには複雑なコマンドを簡単なコマンドとして登録しておくエイリアスという機能があります。
</p>
<p>
  たとえばlsというコマンドを打つときに毎回「ls -l」と-lコマンドをつけるような人はlsコマンドを
</p>
<p>
  ```bash:
</p>
<p>
  alias ls="ls -l"
</p>
<p>
  ```
</p>
<p>
  という風に「ls」を「ls -l」のエイリアスとして登録しておくと便利です。
</p>
<p>
  ###エイリアスの削除
</p>
<p>
  　エイリアスを削除するにはunaliasを使用します。
</p>
<p>
  ```bash:
</p>
<p>
  unalias ls
</p>
<p>
  ```
</p>
<p>
  ###エイリアスをbashの設定ファイルに登録する
</p>
<p>
  　エイリアスをbashを起動したときに登録するには.bashrcにエイリアスを記述しておきます。
</p>
<p>
  ###引数を指定する
</p>
<p>
  　bashではエイリアスに引数を指定することができません。引数を使用するには関数を使用します。
</p>
<p>
  ##エイリアスの代替としての関数
</p>
<p>
  　bashでaliasを定義すると難しいコマンドを簡単なコマンドに置き換えることができます。ですがひとつ問題があります。それはエイリアスで作成したコマンドには引数を渡すことができないということです。
</p>
<p>
  　これを解決するために関数を使用します。bashでは関数を定義することができるのでこれを利用します。
</p>
<p>
  　では「cd」コマンドを実行すると同時にファイル一覧を表示してくれるような関数を作成してみます。
</p>
<p>
  ```bash:
</p>
<p>
  cd () {
</p>
    command cd $1
    ls -l
<p>
  }
</p>
<p>
  ```
</p>
<p>
  　「command」は、Linuxのデフォルトのコマンドである「cd」を呼ぶためのものです。これがないと自分自身を呼び出してしまい無限にループしてしまいます。
</p>
<p>
  　$1で第1引数を受け取ることができます。第2引数は$2、第3引数は$3のようになります。複数の引数を受け取りたい場合は$@で受け取ることもできます。
</p>
<p>
  　すると「cd」コマンドでカレントディレクトリを変更してファイル一覧を表示することができるようになります。
</p>
<p>
  ##標準入力に渡す内容をシェルの中で記述する
</p>
<p>
  (CentOS5.7で確認)
</p>
<p>
  　シェルスクリプト(bash)の中で、複数行のテキストを入力して、それをコマンドを標準入力に渡したいという場合があると思います。
</p>
<p>
  　次のように書けば、標準入力に複数行のテキストを渡すことができます。
</p>
<p>
  ```bash:
</p>
<p>
  コマンド <<EOF
</p>
<p>
  内容1
</p>
<p>
  内容2
</p>
<p>
  EOF
</p>
<p>
  ```
</p>
<p>
  ###ftpコマンドでのサンプル
</p>
<p>
  　たとえばftpコマンドでは<b>-n</b>オプションを利用すれば、コマンドを記述してそれを、標準入力に渡すことができます。
</p>
<p>
  ```bash:
</p>
<p>
  ftp -n 192.168.1.250 <<EOF
</p>
<p>
  user kimoto ijfie
</p>
<p>
  cd /dir
</p>
<p>
  get file
</p>
<p>
  bye
</p>
<p>
  EOF
</p>
<p>
  ```
</p>

  </div>
  <div class="bottom">
    <!-- bottom -->

  </div>
</div>

        </div>
        <div class="side">
          <!-- side -->
<div class="side-list">
  <div class="side-list-title">
    目次
  </div>
  <ul>
    <li><a href="/list.html">記事一覧</a></li>
  </ul>
</div>

        </div>
      </div>
      <div class="footer">
        <!-- footer -->
<a href="https://tutorial.perlzemi.com">Perlゼミ</a> & <a href="https://jp.giblog.net/">Giblog</a>

      </div>
    </div>
  </body>
</html>
