<!DOCTYPE html>
<html>
  <head>
    <!-- meta -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<title>型について学ぼう - PerlゼミのLinux入門</title>
<meta name="description" content="C言語といえば、型です。Perlではmyで宣言した変数には、あらゆる値を代入できました。C言語では、型に対応する値しか代入できません。">
  </head>
  <body>
    <div class="container">
      <div class="header">
        <!-- header -->
<h1>
  <a href="/">PerlゼミのLinux入門</a>
</h1>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    <!-- top -->

  </div>
  <div class="middle">
    <h2><a href="/blog/20190812182936.html">型について学ぼう</a></h2>
<p>
  　C言語といえば、<b>型</b>です。Perlではmyで宣言した変数には、あらゆる値を代入できました。C言語では、型に対応する値しか代入できません。
</p>
<p>
  ```c:
</p>
<p>
  // int型 整数
</p>
<p>
  int num1 = 1;
</p>
<p>
  // double型 浮動小数点
</p>
<p>
  double num2 = 2.28;
</p>
<p>
  // char型 文字
</p>
<p>
  char ch = 'A';
</p>
<p>
  ```
</p>
<p>
  　これは面倒だと思うかもしれません。実際に、めんどうです。けれども、Perlを使う人がCを書く動機って、カリカリにプログラムをスピードアップしたいということですよね。型があるということは、パフォーマンスのためには、非常に役立ちます。
</p>
<p>
  　型があるということは、その値がどんな種類なのかが、最初からわかります。型がなければ、内部の型を調べないといけませんね。これは、パフォーマンスを遅くします。型がわかっているとint型であれば、整数型の演算を行えばよいですし、double型であれば、浮動少数点の演算を行えばよいですね。
</p>
<p>
  　また型はサイズを持ちますので、データを格納している領域のサイズが決定できます。サイズがわかっていると、直接メモリ上の位置を指定してアクセスできるんです。たとえば、int型が4バイトだとします。そして、int型の配列があると考えてください。3番目の位置は「4 × 3」で計算できますね。一瞬でデータのある位置がわかりますね。
</p>
<p>
  　このように型があることによって、計算の速度をものすごく速くすることができます。
</p>
<p>
  　四則演算はPerlと同じです。
</p>
<p>
  ```c:
</p>
<p>
  // 足し算
</p>
<p>
  double add = 1 + 2;
</p>
<p>
  // 割り算
</p>
<p>
  double sub = 1 - 2;
</p>
<p>
  // 掛け算
</p>
<p>
  double multi = 2 * 3;
</p>
<p>
  // 割り算
</p>
<p>
  double div = 2.0 / 3.0;
</p>
<p>
  // 余り
</p>
<p>
  double remainder = 2 % 3;
</p>
<p>
  // 整数商
</p>
<p>
  double quotient = 2 / 3;
</p>
<p>
  ```
</p>
<p>
  　出力するときは型に応じてフォーマットを指定する必要があります。
</p>
<p>
  ```c:
</p>
<p>
  int num1 = 1;
</p>
<p>
  printf("num1 is %d\n", num1);
</p>
<p>
  double num2 = 2.3;
</p>
<p>
  printf("num2 is %f\n", num2);
</p>
<p>
  char ch = 'A';
</p>
<p>
  printf("ch is %c\n", ch);
</p>
<p>
  ```
</p>
<p>
  ##よくある質問
</p>
<p>
  　よくあるであろう質問にいくつか答えます。
</p>
<p>
  ###C言語には文字列型はないんですか
</p>
<p>
  　C言語には文字列型はありません。C言語にあるのはchar型(文字型)だけです。C言語においては、文字列というものは、char型の配列で表現します。配列のところで解説しますが、以下のような感じですね。
</p>
<p>
  ```c:
</p>
<p>
  // Hello
</p>
<p>
  char str[6] = {'H', 'e', 'l', 'l', 'o', '\0'};
</p>
<p>
  ```
</p>
<p>
  　C言語では文字列の最後には「\0」を設定するという決まりがあります。つまり「Hello」という5文字と「\0」という一文字で、6つの大きさが必要になります。
</p>
<p>
  　これではめんどうすぎるので、簡単な書き方が用意されています。配列の個数を省略して、ダブルクォートで記述できます。
</p>
<p>
  ```c:
</p>
<p>
  char str[] = "Hello";
</p>
<p>
  ```
</p>
<p>
  　さらにいうと、文字のポインタ型にしてしまうのが、書き方としては一般的です。今は意味がわからないと思います。ポインタのところで解説しますね。
</p>
<p>
  ```c:
</p>
<p>
  char* str = "Hello";
</p>
<p>
  ```
</p>
<p>
  ###配列型やハッシュ型はありますか。
</p>
<p>
  　配列型はあります。
</p>
<p>
  ```c:
</p>
<p>
  char nums[3] = {1, 2, 3};
</p>
<p>
  ```
</p>
<p>
  　ハッシュ型はありません。ハッシュのように、異なった種類の複数の値を入れておくためには、構造体と呼ばれる機能を使います。これは、構造体のところで解説します。
</p>
<p>
  ###他にどんな型がありますか
</p>
<p>
  　符号なし整数「unsigned int」、浮動少数点数「double」などがあります。たくさんあるので、調べてみてくださいね。
</p>
<p>
  ##サンプルプログラム
</p>
<p>
  　型の宣言と四則演算を行うサンプルスクリプトです。type.cという名前で保存してください。
</p>
<p>
  ```c:
</p>
<p>
  #include <stdio.h>
</p>
<p>
  int main () {
</p>
  int num1 = 1 + 2;
  printf("num1 is %d\n", num1);
  double num2 = 2.3 / 1.7;
  printf("num2 is %f\n", num2);
  char ch = 'A';
  printf("ch is %c\n", ch);
  
  return 0;
<p>
  }
</p>
<p>
  ```
</p>
<p>
  　実行してみましょう。&&を使うと、コンパイルして実行が一行で書けます。
</p>
<p>
  ```sh:
</p>
<p>
  gcc -o type type.c && ./type
</p>
<p>
  ```
</p>
<p>
  　以下のように表示されます。
</p>
<p>
  ```
</p>
<p>
  num1 is 3
</p>
<p>
  num2 is 1.352941
</p>
<p>
  ch is A
</p>
<p>
  ```
</p>

  </div>
  <div class="bottom">
    <!-- bottom -->

  </div>
</div>

        </div>
        <div class="side">
          <!-- side -->
<div class="side-list">
  <div class="side-list-title">
    目次
  </div>
  <ul>
    <li><a href="/list.html">記事一覧</a></li>
  </ul>
</div>

        </div>
      </div>
      <div class="footer">
        <!-- footer -->
<a href="https://tutorial.perlzemi.com">Perlゼミ</a> & <a href="https://jp.giblog.net/">Giblog</a>

      </div>
    </div>
  </body>
</html>
