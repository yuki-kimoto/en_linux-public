<!DOCTYPE html>
<html>
  <head>
    <!-- meta -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" type="text/css" href="/css/common.css">

<title>viで基本的なコマンドを覚えよう - PerlゼミのLinux入門</title>
<meta name="description" content="viで最低限必要なことを覚えておけば、設定ファイルのの編集ができるようになるから、次の章に進むのもよいと思う。ここでは、もう少し便利にviを使う方法を紹介したいと思います。">
  </head>
  <body>
    <div class="container">
      <div class="header">
        <!-- header -->
<h1>
  <a href="/">PerlゼミのLinux入門</a>
</h1>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    <!-- top -->

  </div>
  <div class="middle">
    <h2><a href="/blog/20190812184518.html">viで基本的なコマンドを覚えよう</a></h2>
<p>
  　viで最低限必要なことを覚えておけば、設定ファイルのの編集ができるようになるから、次の章に進むのもよいと思う。ここでは、もう少し便利にviを使う方法を紹介したいと思います。
</p>
<p>
  ##行番号がないなぁ
</p>
<p>
  　viを起動すると行番号がないのに気づきますね。行番号がないと何かと不便ですね。そのような場合は以下のようにします。
</p>
<p>
  　まずEscキーを押してコマンドモードにしてください。その後に以下のように入力してEnterを押してください。
</p>
<p>
  ```
</p>
<p>
  :set number
</p>
<p>
  ```
</p>
<p>
  　するとびっくり、行番号が左にでてきます。
</p>
<p>
  ##うおー、viを再起動したら行番号が消えてしまった
</p>
<p>
  　上記のコマンドは永続的に続くものじゃなくって、viを立ち上げている間だけ効力があります。そういう場合は、<b>設定ファイル</b>を使います。設定ファイルに記述しておけば、viを立ち上げたときにそのコマンドを実行してくれます。
</p>
<p>
  　viの設定ファイルはユーザーのホームディレクトリにある<b>.vimrc</b>です。そんなファイルはないって? デフォルトでは存在しないので作成する必要がありますね。
</p>
<p>
  ```
</p>
<p>
  cd ~
</p>
<p>
  vi .vimrc
</p>
<p>
  ```
</p>
<p>
  　<b>cd ~</b>とすることで、ホームディレクトリに移動することができます。チルダはユーザーのホームディレクトリを意味する特殊文字です。
</p>
<p>
  　viを使って<b>.vimrc</b>を作成しましょう。そして<b>i</b>を押して、編集モードになったら次のように入力しましょう。
</p>
<p>
  ```
</p>
<p>
  set number
</p>
<p>
  ```
</p>
<p>
  　viの設定ファイルに書く場合は、コロンは先頭にはいりません。コロンなしで書きます。そしたらEscを押してコマンドモードになって、<b>:wq</b>と入力して保存して終了しましょう。するとファイルができています。
</p>
<p>
  　Linuxでは<b>.</b>で始まるファイルは隠しファイルになります。設定ファイルは隠しファイルであることが多いです。通常の<b>ls</b>コマンドでは、ファイルに一覧されませんが<b>a</b>オプションを使うと隠しファイルを含めて見ることができます。
</p>
<p>
  ```
</p>
<p>
  ls -a
</p>
<p>
  ```
</p>
<p>
  　これで.vimrcというファイルができていることが確認できましたね。viでテキストファイルを開いてみましょう。行番号が最初から表示されるのがわかると思います。
</p>
<p>
  ##タブで空白入力したい
</p>
<p>
  　プログラマであれば、タブではなくって、タブキーで空白入力したい人も多いでしょう。
</p>
<p>
  ```
</p>
<p>
  set expandtab
</p>
<p>
  ```
</p>
<p>
  ##タブ幅を設定したい
</p>
<p>
  　プログラマであればタブ幅も設定したいですね。
</p>
<p>
  ```
</p>
<p>
  set tabstop=2
</p>
<p>
  ```
</p>
<p>
  ##改行したときに字下げをしたい
</p>
<p>
  　プログラマであれば改行したときに、先頭に戻るのではなくって、字下げをしたいですね。
</p>
<p>
  ```
</p>
<p>
  set autoindent
</p>
<p>
  ```
</p>
<p>
  ##設定ファイルが大きいので、ファイルの末尾に移動したいぞ
</p>
<p>
  　末尾に移動したい場合はコマンドモードで<b>G</b>と打ちます。
</p>
<p>
  ```
</p>
<p>
  G
</p>
<p>
  ```
</p>
<p>
  ##好きな行番号に移動したいぞ
</p>
<p>
  　好きな行番号に移動したい場合は<b>数値G</b>とします。
</p>
<p>
  ```
</p>
<p>
  1G
</p>
<p>
  25G
</p>
<p>
  ```
</p>
<p>
  　1Gだと1行目、25Gだと25行目に移動できます。
</p>
<p>
  Escキーでコマンドモードにして、行番号を打つだけでも移動できます。
</p>
<p>
  ```
</p>
<p>
  :3
</p>
<p>
  ```
</p>
<p>
  ##文字列を検索したいぞ
</p>
<p>
  　検索したい場合はまずコマンドモードで、<b>/</b>と打ちます。スラッシュを打ちます。すると以下のようになります。
</p>
<p>
  ```
</p>
<p>
  /
</p>
<p>
  ```
</p>
<p>
  　そうしたらここに検索したい文字を打ち込みます。
</p>
<p>
  ```
</p>
<p>
  /foo
</p>
<p>
  ```
</p>
<p>
  　そうしたらEnterと押してください。これで検索ができます。次のマッチした位置に進みたいときは<b>n</b>を押します。戻りたい時は<b>N</b>を押します。これで検索ができます。
</p>
<p>
  ```
</p>
<p>
  n 進む
</p>
<p>
  N 戻る
</p>
<p>
  ```
</p>
<p>
  ##コピーしたいぞ
</p>
<p>
  　ちょっとまってください。この後にSSHを解説するときにTeratermというツールを紹介します。これを使うと、文字列を選択してコピーすることができます。
</p>
<p>
  ##ペーストしたい
</p>
<p>
  　これもTeratermを紹介するまで少しお待ちください。右クリックでペーストできます。
</p>
<p>
  ##たくさんの範囲を削除したい
</p>
<p>
  　deleteやback spaceでも削除できますが、いっぺんにたくさんの範囲を消したい場合がありますね。1行削除はコマンドモードで次のように打ちます。
</p>
<p>
  ```
</p>
<p>
  dd
</p>
<p>
  ```
</p>
<p>
  　複数行を削除したい場合はこの直前に、削除したい行数を記述します。
</p>
<p>
  ```
</p>
<p>
  5dd
</p>
<p>
  ```
</p>
<p>
  ##Perlを実行したいぞ
</p>
<p>
  　サンプルコードにPerl入門ということで、viからperlを実行する方法を最後に紹介!
</p>
<p>
  ```
</p>
<p>
  !perl スクリプト名
</p>
<p>
  ```
</p>
<p>
  　これだけ覚えれば、設定ファイルの編集がだいぶ楽になると思います。
</p>

  </div>
  <div class="bottom">
    <!-- bottom -->

  </div>
</div>

        </div>
        <div class="side">
          <!-- side -->
<div class="side-list">
  <div class="side-list-title">
    目次
  </div>
  <ul>
    <li><a href="/list.html">記事一覧</a></li>
  </ul>
</div>

        </div>
      </div>
      <div class="footer">
        <!-- footer -->
<a href="https://tutorial.perlzemi.com">Perlゼミ</a> & <a href="https://jp.giblog.net/">Giblog</a>

      </div>
    </div>
  </body>
</html>
